<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quick Sort Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#eff6ff",
                100: "#dbeafe",
                200: "#bfdbfe",
                300: "#93c5fd",
                400: "#60a5fa",
                500: "#3b82f6",
                600: "#2563eb",
                700: "#1d4ed8",
                800: "#1e40af",
                900: "#1e3a8a",
                950: "#172554",
              },
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-4 space-y-6">
      <h1 class="text-3xl font-bold text-primary-600">Quick Sort Challenge</h1>
      <p class="text-lg text-gray-700">
        Test your understanding of Quick Sort! Choose the correct answers to
        proceed through the sorting process.
      </p>

      <!-- Question Section -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2
          id="question-title"
          class="text-xl font-semibold text-primary-700 mb-4"
        >
          Question 1
        </h2>
        <p id="question-text" class="text-gray-600 mb-4">
          What is the pivot element in the array [38, 27, 43, 3, 9, 82, 10] if
          the first element is chosen as the pivot?
        </p>

        <div id="options" class="space-y-2">
          <!-- Options will be dynamically populated here -->
        </div>

        <div class="mt-4 space-x-4">
          <button
            id="check-button"
            onclick="validateAnswer()"
            class="bg-primary-500 hover:bg-primary-600 text-white font-bold px-4 py-2 rounded shadow transition duration-200"
          >
            Check Answer
          </button>

          <button
            id="next-button"
            onclick="nextQuestion()"
            class="bg-green-500 hover:bg-green-600 text-white font-bold px-4 py-2 rounded shadow transition duration-200 hidden"
          >
            Next Question
          </button>

          <button
            id="exit-button"
            onclick="exitChallenge()"
            class="bg-red-500 hover:bg-red-600 text-white font-bold px-4 py-2 rounded shadow transition duration-200 hidden"
          >
            Exit Challenge
          </button>
        </div>
      </div>

      <!-- Feedback Section -->
      <p id="feedback" class="hidden mt-4 text-lg font-semibold"></p>
    </div>

    <script>
      const questions = [
        {
          id: 1,
          question:
            "What is the pivot element in the array [38, 27, 43, 3, 9, 82, 10] if the first element is chosen as the pivot?",
          options: ["38", "27", "10", "43"],
          correct: "38",
        },
        {
          id: 2,
          question:
            "After partitioning around the pivot 38, what is the position of 27?",
          options: ["Left of the pivot", "Right of the pivot", "Unchanged"],
          correct: "Left of the pivot",
        },
        {
          id: 3,
          question:
            "Which of the following is the correct recursive call for the left partition [27, 3, 9, 10]?",
          options: [
            "quickSort([27, 3, 9, 10])",
            "quickSort([38, 27])",
            "quickSort([3, 9, 10])",
          ],
          correct: "quickSort([27, 3, 9, 10])",
        },
        {
          id: 4,
          question:
            "What is the time complexity of Quick Sort in the best case?",
          options: ["O(n^2)", "O(n log n)", "O(n)", "O(log n)"],
          correct: "O(n log n)",
        },
      ];

      let currentQuestionIndex = 0;

      function loadQuestion(index) {
        const question = questions[index];
        document.getElementById(
          "question-title"
        ).textContent = `Question ${question.id}`;
        document.getElementById("question-text").textContent =
          question.question;

        const optionsDiv = document.getElementById("options");
        optionsDiv.innerHTML = "";

        question.options.forEach((option) => {
          const optionDiv = document.createElement("div");
          optionDiv.innerHTML = `
            <label class="flex items-center space-x-3">
              <input type="radio" name="option" value="${option}" class="form-radio text-primary-600">
              <span>${option}</span>
            </label>
          `;
          optionsDiv.appendChild(optionDiv);
        });

        document.getElementById("check-button").classList.remove("hidden");
        document.getElementById("next-button").classList.add("hidden");
        document.getElementById("exit-button").classList.add("hidden");
        document.getElementById("feedback").classList.add("hidden");
      }

      function validateAnswer() {
        const selectedOption = document.querySelector(
          'input[name="option"]:checked'
        );
        const feedback = document.getElementById("feedback");

        if (!selectedOption) {
          feedback.textContent = "Please select an option.";
          feedback.className = "text-red-500 mt-4 text-lg font-semibold";
          feedback.classList.remove("hidden");
          return false;
        }

        const selectedValue = selectedOption.value;
        const currentQuestion = questions[currentQuestionIndex];

        if (selectedValue === currentQuestion.correct) {
          feedback.textContent = "Correct! ðŸŽ‰";
          feedback.className = "text-green-500 mt-4 text-lg font-semibold";
          document.getElementById("next-button").classList.remove("hidden");
          document.getElementById("check-button").classList.add("hidden");
        } else {
          feedback.textContent = `Incorrect. The correct answer is: ${currentQuestion.correct}`;
          feedback.className = "text-red-500 mt-4 text-lg font-semibold";
        }

        feedback.classList.remove("hidden");
        return true;
      }

      function nextQuestion() {
        currentQuestionIndex++;

        if (currentQuestionIndex < questions.length) {
          loadQuestion(currentQuestionIndex);
        } else {
          document.getElementById("question-title").textContent =
            "Congratulations!";
          document.getElementById("question-text").textContent =
            "You have completed the Quick Sort Challenge!";
          document.getElementById("options").innerHTML = "";
          document.getElementById("check-button").classList.add("hidden");
          document.getElementById("next-button").classList.add("hidden");
          document.getElementById("exit-button").classList.remove("hidden");
        }
      }

      function exitChallenge() {
        alert("Thank you for participating in the Quick Sort Challenge!");
        window.location.href = "/";
      }

      loadQuestion(currentQuestionIndex);
    </script>
  </body>
</html>
