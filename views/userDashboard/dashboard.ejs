<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard | AlgoViz</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-100">
    <div class="flex min-h-screen">
      <!-- Left Panel -->
      <div class="w-1/4 bg-[#5800FF] text-white relative">
        <!-- Back Button -->
        <a
          href="#"
          class="absolute top-4 left-4 text-white bg-[#5800FF] hover:bg-white hover:text-[#5800FF] p-2 rounded-full border border-white transition"
        >
          Back
        </a>

        <div class="flex flex-col items-center justify-center h-full p-6">
          <div class="mb-6">
            <img
              src="https://via.placeholder.com/100"
              alt="Profile"
              class="rounded-full"
            />
          </div>
          <div class="text-center">
            <p class="text-lg font-bold" id="userFullName">Full Name</p>
            <p class="text-sm" id="userEmail">Email</p>
            <p class="text-sm" id="userRole">Role</p>
          </div>
        </div>
      </div>

      <!-- Right Panel -->
      <div class="flex-1 p-6 grid grid-cols-3 gap-6 overflow-y-scroll h-screen">
        <!-- Sorting Label -->
        <div class="col-span-3">
          <div
            class="bg-blue-500 text-white text-lg font-bold px-4 py-2 rounded shadow-md"
          >
            Sorting
          </div>
        </div>

        <!-- Sorting Cards -->
        <a
          href="/dashboard/bubblesort"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Bubble Sort</h2>
          <p>Start the Bubble Sort visualization.</p>
        </a>

        <a
          href="/dashboard/quicksort"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Quick Sort</h2>
          <p>Start the Quick Sort visualization.</p>
        </a>

        <a
          href="/dashboard/mergesort"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Merge Sort</h2>
          <p>Start the Merge Sort visualization.</p>
        </a>

        <a
          href="/dashboard/insertionsort"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Insertion Sort</h2>
          <p>Start the Insertion Sort visualization.</p>
        </a>

        <a
          href="/dashboard/selectionsort"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Selection Sort</h2>
          <p>Start the Selection Sort visualization.</p>
        </a>

        <a
          href="/dashboard/heapsort"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Heap Sort</h2>
          <p>Start the Heap Sort visualization.</p>
        </a>

        <!-- Searching Label -->
        <div class="col-span-3 mt-6">
          <div
            class="bg-blue-500 text-white text-lg font-bold px-4 py-2 rounded shadow-md"
          >
            Searching
          </div>
        </div>

        <!-- Searching Cards -->
        <a
          href="/dashboard/linearsearch"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Linear Search</h2>
          <p>Start the Linear Search visualization.</p>
        </a>

        <a
          href="/dashboard/binarysearch"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Binary Search</h2>
          <p>Start the Binary Search visualization.</p>
        </a>

        <a
          href="/dashboard/twopointers"
          class="bg-white p-8 rounded shadow hover:bg-gray-100 transition"
        >
          <div class="h-40 bg-gray-200 rounded mb-4"></div>
          <h2 class="font-bold">Two Pointers Technique</h2>
          <p>Start the Two Pointers Technique visualization.</p>
        </a>
      </div>
    </div>

    <!-- Script -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      async function fetchUserProfile() {
        try {
          const response = await fetch("/api/get-user-profile");
          if (!response.ok) {
            throw new Error("Failed to fetch user profile");
          }
          const userData = await response.json();
          console.log("User Data:", userData); // Debugging line to confirm data

          // Populate the placeholders with user data
          document.getElementById("userEmail").textContent = userData.email;
          document.getElementById("userFullName").textContent =
            userData.fullName;
          document.getElementById("userRole").textContent = userData.role;
          document.getElementById("profilePicture").src =
            userData.profilePicture || "https://via.placeholder.com/100";
        } catch (error) {
          console.error("Error fetching user profile:", error);
        }
      }

      // Fetch user profile when the page loads
      window.onload = fetchUserProfile;
    </script>
  </body>
</html>
